<div class="container">
<div class="row pb-3">
<h2><%= @post.title %></h2>
</div>
<div class="row">
<h6><%= @post.body %></h6>
</div>

<div class="row pb-4">
  <% if user_signed_in? && can?(:delete, @post) %>

  <button class="btn btn-outline-primary mr-2">
    <%= link_to "Edit", edit_post_path(@post) %>
  </button>

<button class="btn btn-outline-primary"><%= link_to "Delete",
            post_path(@post),
            method: :delete,
            data: { confirm: "Do you wish to proceed?" }
            %></button>
</div>
<% end %>

<% if user_signed_in? %>
  <%= form_for [@post, @comment] do |f| %>
    <p class="form-errors">
      <%= @comment.errors.full_messages.join(', ') %>
    </p>

    <div>
      <%= f.text_area :body,
        placeholder: "What's on your mind?",
        cols: 60, rows: 4
      %>
    </div>
    <%= f.submit "Submit" %>
  <% end %>
<% end %>

<ul class="answer-list">
  <% @comments.each do |comment| %>
    <li>
      <p>
        <strong>
          <%= comment.user&.name || "[DELETED]" %> commented:
        </strong>
        <br/>

        <%= comment.body %> <br />

        <small>
          commented <%= time_ago_in_words(comment.created_at) %> ago
        </small>
        <% if user_signed_in? && can?(:delete, comment) %>
          <small>
            <%= link_to "Delete",
              comment_path(comment),
              method: :delete,
              data: {
                confirm: "Are you sure?"
              }
            %>
          </small>
        <% end %>
      </p>
    </li>
  <% end %>
</ul>







<!-- -->
